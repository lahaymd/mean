"use strict";!function(){angular.module("myApp",["ui.router","ngAnimate","ngMessages","ngMaterial"]).config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("blue").accentPalette("teal").warnPalette("red").backgroundPalette("grey").dark()}])}(),function(){function e(e,t,o){t.otherwise("/"),o.html5Mode(!0),e.state("login",{url:"/",templateUrl:"/partials/login",controller:"LoginController",controllerAs:"vm"}).state("hireme",{url:"/hireme",templateUrl:"/partials/hireme",controller:"HireMeController"}).state("users",{url:"/users",templateUrl:"/partials/users",controller:"UserController"}).state("users.detail",{url:"/:id",templateUrl:"/partials/selecteduser",controller:"UserController"}).state("register",{url:"/register",templateUrl:"/partials/register",controller:"RegisterController",controllerAs:"vm"}).state("api",{url:"/api/user",templateUrl:"/partials/users",controller:"UserController"}).state("readerboard",{url:"/readerboard",templateUrl:"/partials/readerboard",controller:"ReaderboardController",controllerAs:"vm"}).state("pdf",{url:"/pdf",template:"<object data='/images/illustrator-resume.pdf' width='100%' height='100%'></object>"})}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("myApp").config(e)}(),angular.module("myApp").factory("AuthService",["$q","$timeout","$http",function(e,t,o){function n(t){var n=e.defer();return o.put("/api/users/"+t._id,t).success(function(e){console.log(e),n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(t){var n=e.defer();return o["delete"]("api/users/"+t).success(function(e){n.resolve(e)}).error(function(e){n.reject(e+"!!")}),n.promise}function l(t){var n=e.defer();return o.get("/api/users/"+t).success(function(e){n.resolve(e)}).error(function(e){n.reject(e+"!")}),n.promise}function s(){var t=e.defer();return o.get("/api/users").success(function(e){t.resolve(e)}).error(function(e){t.reject(e+"!")}),t.promise}function i(){var t=e.defer();return o.get("/api/hireme").success(function(e){t.resolve(e)}).error(function(e){t.reject(e+"!")}),t.promise}function u(){return!!h}function c(){return o.get("/user/status").success(function(e){h=!!e.status}).error(function(e){h=!1})}function a(t,n){var r=e.defer();return o.post("/user/login",{username:t,password:n}).success(function(e,t){200===t&&e.status?(h=!0,r.resolve()):(h=!1,r.reject())}).error(function(e){h=!1,r.reject()}),r.promise}function f(){var t=e.defer();return o.get("/user/logout").success(function(e){h=!1,t.resolve()}).error(function(e){h=!1,t.reject()}),t.promise}function m(t,n){var r=e.defer();return o.post("/api/users",{username:t,password:n}).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function d(){var t=e.defer();return o.get("/api/mongolab").success(function(e){t.resolve(e)}).error(function(e){t.reject(e+"!")}),t.promise}function p(t){var n=e.defer();return o.post("/api/mongolab",{fuck:t}).success(function(e){n.resolve(e)}).error(function(e){defer.reject(e)}),n.promise}function g(t,n,r,l,s){var i=e.defer();return o.post("/api/hireme",{firstname:t,lastname:n,email:r,phone:l,message:s}).success(function(e){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}var h=null,v={isLoggedIn:u,getUserStatus:c,login:a,logout:f,register:m,getUsers:s,find:l,remove:r,update:n,getMongoLab:d,postToMongoLab:p,hire:g,getHired:i};return v}]),angular.module("myApp").controller("ExampleController",["$scope","$mdToast",function(e,t){e.date=new Date,e.ctrlName="foo",e.ctrlFlavor="cherry",e.isDisabled=!0,e.saySomething=function(){alert("say something!")},e.someMethod=function(e){alert(e)},e.showToast=function(){t.show({hideDelay:5e3,position:"top right",parent:angular.element(document.querySelector("#toastContainer")),template:'<md-toast><span class="md-toast-text" flex>Custom toast!</span><md-button class="md-highlight" ng-click="openMoreInfo($event)">More info</md-button><md-button ng-click="closeToast()">Close</md-button></md-toast>'})}}]),angular.module("myApp").directive("example",function(){return{restrict:"AE",templateUrl:"/partials/example-directive",link:function(e,t,o,n){}}}),function(){angular.module("myApp").controller("FooterController",function(){var e=this;e.date=(new Date).getFullYear()})}(),function(){angular.module("myApp").controller("HireMeController",["AuthService","$scope","$mdDialog","$mdToast",function(e,t,o,n){t.checkboxModel=!1,t.propertyName="firstname",t.lists=["firstname","lastname","email","phone","message"],t.sortBy=function(e){t.propertyName=e},t.showConfirm=function(e){var n=o.confirm().title("Would you like to submit form?").textContent("press ok to submit press cancel to cancel").ariaLabel("Lucky day").targetEvent(e).ok("submit!").cancel("cancel");o.show(n).then(function(){t.hired(),t.openToast()},function(){angular.element(document.querySelectorAll("input")).val("")})},t.openToast=function(e){n.show(n.simple().textContent("sent").position("bottom"))},t.hiremelist={};var r=function(){e.getHired().then(function(e){t.hiremelist=e,console.log(e)},function(e){console.log(e)})};r(),t.hired=function(){e.hire(t.hiremelist.firstname,t.hiremelist.lastname,t.hiremelist.email,t.hiremelist.phone,t.hiremelist.message).then(function(e){t.hiremelist.push(e),angular.element(document.querySelectorAll("input")).val("")})["catch"](function(e){alert(t.hiremelist),alert(e)})}}])}(),function(){angular.module("myApp").controller("NavController",["$mdSidenav","$location",function(e,t){var o=this;o.currentNavItem=t.path().slice(1)||"login",console.log(o.currentNavItem),o.open=function(){e("left").toggle()}}]).controller("SidenavController",["$mdSidenav",function(e){var t=this;t.toggleNav=function(){return e("left").toggle()}}]).controller("LoginController",["AuthService",function(e){var t=this;t.userlist={},t.demo=function(){alert(1)},t.saveToMongoLab=function(){e.postToMongoLab(t.userlist.fuck).then(function(e){console.log(e),t.userlist.push(e)})["catch"](function(e){alert(e)})};var o=function(){e.getMongoLab().then(function(e){t.userlist=e,console.log(e)},function(e){console.log(e)})};o()}]).controller("ModalController",["$mdDialog",function(e){var t=this;t.showAlert=function(t){e.show(e.alert().parent(angular.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!0).title("This is an alert title").textContent("You can specify some description text in here.").ariaLabel("Alert Dialog Demo").ok("Got it!").targetEvent(t))}}])}(),function(){angular.module("myApp").controller("ReaderboardController",["$document","$log","$timeout",function(e,t,o){var n=this;n.areaOne=function(t,o){n.clear=function(){e.find("textarea").val(""),n.letterDifference={}};var r=function(e){return e=e||"",e.replace(/\s+/g,"").split("").sort().map(function(e){return e.toLowerCase().match(/\S/g)}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){var o=e[0].indexOf(t);return o===-1?(e[0].push(t),e[1].push(1)):e[1][o]+=1,e},[[],[]]).reduce(function(e,t,o,n){var r=[];return e.forEach(function(e,t){r.push([e,n[1][t]])}),r})};n.letters=r(t),n.lettersTwo=r(o),console.log("letters",n.letters),n.letterDifference=n.lettersTwo.map(function(e,t,o){console.log("item",e),console.log("index",t),console.log("array",o),console.log("this[index]",this[t]),console.log("this",this);var n=this.map(function(e,t,o){return e[0]});console.log("thisMapped",n);var r=n.findIndex(function(t,o,n){return t===e[0]});console.log(r);var l={};return this.length>0&&n.indexOf(e[0]!==-1)&&r!==-1?l[e[0]]=e[1]-this[r][1]:l[e[0]]=e[1],console.log("thisMappedFindIndex",r),console.log("obj",l),l},n.letters)}}])}(),function(){angular.module("myApp").controller("RegisterController",["$location","AuthService",function(e,t){var o=this;o.registerForm={},o.register=function(){t.register(o.registerForm.username,o.registerForm.password).then(function(){o.registerForm={},e.path("/users")})["catch"](function(e){alert(e)})}}])}(),function(){angular.module("myApp").controller("ShowUserController",["$scope","$stateParams","AuthService",function(e,t,o){e.selectedUser={};var n=function(){o.find(t.id).then(function(t){e.selectedUser=t,console.log(t,"!!!")},function(e){console.log(e)})};n();var r=function(){o.getUsers().then(function(t){e.userlist=t},function(e){console.log(e)})};e.updateUser=function(){console.log(e.selectedUser),o.update(e.selectedUser).then(function(){console.log("updated from controller"),r()},function(e){console.log("you fucked up"),console.log(e.message)})}}])}(),function(){angular.module("myApp").controller("UserController",["$scope","$stateParams","AuthService","$location","$window",function(e,t,o,n,r){e.numbers=[];for(var l=1;l<=100;l++)e.numbers.push(l);e.displayPagination=function(t){0===t&&(e.begin=0),e.begin=t*e.displayAmount},e.lists=["username","id","password"],e.sortBy=function(t){e.propertyName=t},e.limitDisplayedTo=function(t){e.displayAmount=t,e.limit=Math.ceil(e.userlistLength/e.displayAmount)};var s=function(){o.getUsers().then(function(t){e.userlist=t,e.userlistLength=t.length,e.displayAmount=e.displayAmount||3,e.limit=Math.ceil(e.userlistLength/e.displayAmount),console.log(t)},function(e){console.log(e)})};s(),e.removeUser=function(t){console.log(t),e.isLoading=!0,o.remove(t).then(function(o){console.log(o),console.log(e.userlist),console.log(t);var n=e.userlist.findIndex(function(e){return e._id==t});e.userlist.splice(n,1),e.userlistLength=e.userlist.length,e.limit=Math.ceil(e.userlistLength/e.displayAmount),console.log("promise returned"),e.isLoading=!1})},e.test="testing link function",e.selectedUser={};var i=function(){o.find(t.id).then(function(t){e.selectedUser=t,console.log(t,"!!")},function(e){console.log(e)})};i(),e.updateUser=function(){console.log(e.selectedUser),o.update(e.selectedUser).then(function(t){var o=e.userlist.findIndex(function(t){return t._id==e.selectedUser._id});console.log(o),console.log(t),console.log("updated from controller"),r.location.reload(),n.path("/users")},function(e){console.log("you fucked up"),console.log(e.message)})},e.register=function(){e.isLoading=!0,o.register(e.userlist.username,e.userlist.password).then(function(t){console.log(t),e.userlist.push(t),e.userlistLength=e.userlist.length,e.limit=Math.ceil(e.userlistLength/e.displayAmount),angular.element(document.querySelectorAll("input")).val(""),e.isLoading=!1})["catch"](function(e){alert(e)})}}])}(),function(){angular.module("myApp").directive("myDirective",function(){return{restrict:"E",transclude:!0,template:"<div>I am <span ng-transclude></span> directive {{test}}   {{userlist[0].username}}</div>",link:function(e,t,o){t.addClass("foo"),console.log(parseInt(o.bar)+6)}}})}();