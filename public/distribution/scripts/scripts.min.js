"use strict";!function(){angular.module("myApp",["ui.router","ngAnimate","ngMessages","ngMaterial","angular-inview","md.data.table"]).config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("blue").accentPalette("teal").warnPalette("red").backgroundPalette("grey").dark()}])}(),function(){function e(e,t,n){t.otherwise("/"),n.html5Mode(!0),e.state("login",{url:"/",templateUrl:"/partials/login",controller:"LoginController",controllerAs:"vm"}).state("hireme",{url:"/hireme",templateUrl:"/partials/hireme",controller:"HireMeController"}).state("users",{url:"/users",templateUrl:"/partials/users",controller:"UserController"}).state("users.detail",{url:"/:id",templateUrl:"/partials/selecteduser",controller:"UserController"}).state("register",{url:"/register",templateUrl:"/partials/register",controller:"RegisterController",controllerAs:"vm"}).state("api",{url:"/api/user",templateUrl:"/partials/users",controller:"UserController"}).state("readerboard",{url:"/readerboard",templateUrl:"/partials/readerboard",controller:"ReaderboardController",controllerAs:"vm"}).state("pdf",{url:"/pdf",templateUrl:"/partials/pdf"})}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("myApp").config(e)}(),angular.module("myApp").factory("AuthService",["$q","$timeout","$http",function(e,t,n){function o(e){return n.put("/api/users/"+e._id,e).then(function(e){e.data},function(e){alert(e)})}function r(e){return n["delete"]("api/users/"+e).then(function(e){e.data},function(e){alert(e)})}function l(e){return n.get("/api/users/"+e).then(function(e){return e.data},function(e){alert(e)})}function i(){return n.get("/api/users").then(function(e){return console.log(e.data),e.data},function(e){alert(e)})}function s(){return n.get("/api/hireme").then(function(e){return e.data},function(e){alert(e)})}function a(){return!!h}function u(){return n.get("/user/status").success(function(e){h=!!e.status}).error(function(e){h=!1})}function c(t,o){var r=e.defer();return n.post("/user/login",{username:t,password:o}).success(function(e,t){200===t&&e.status?(h=!0,r.resolve()):(h=!1,r.reject())}).error(function(e){h=!1,r.reject()}),r.promise}function d(){var t=e.defer();return n.get("/user/logout").success(function(e){h=!1,t.resolve()}).error(function(e){h=!1,t.reject()}),t.promise}function f(e,t){return n.post("/api/users",{username:e,password:t}).then(function(e){return e.data},function(e){alert(e)})}function m(){return n.get("/api/mongolab").then(function(e){return e.data},function(e){alert(e)})}function g(t){var o=e.defer();return n.post("/api/mongolab",{fuck:t}).success(function(e){o.resolve(e)}).error(function(e){defer.reject(e)}),o.promise}function p(e,t,o,r,l){return n.post("/api/hireme",{firstname:e,lastname:t,email:o,phone:r,message:l}).then(function(e){return e.data},function(e){alert(e)})}var h=null,v={isLoggedIn:a,getUserStatus:u,login:c,logout:d,register:f,getUsers:i,find:l,remove:r,update:o,getMongoLab:m,postToMongoLab:g,hire:p,getHired:s};return v}]),function(){angular.module("myApp").controller("FooterController",function(){var e=this;e.date=(new Date).getFullYear()})}(),function(){angular.module("myApp").controller("HireMeController",["AuthService","$scope","$mdDialog","$mdToast",function(e,t,n,o){t.hiremelist;var r=function(){e.hire(t.hiremelist.firstname,t.hiremelist.lastname,t.hiremelist.email,t.hiremelist.phone,t.hiremelist.message).then(function(e){console.log("New",JSON.stringify(e)),t.hiremelist.push(e),console.log("new user",e),angular.element(document.querySelectorAll("input")).val("")},function(e){alert(JSON.stringify(t.hiremelist)),alert(e)})};t.showConfirm=function(e){var o=n.confirm().title("Would you like to submit form?").textContent("press ok to submit press cancel to cancel").ariaLabel("Lucky day").targetEvent(e).ok("submit!").cancel("cancel");n.show(o).then(function(){r(),t.openToast(),angular.element(document.querySelectorAll("input")).val("")},function(e){alert(e)})},t.openToast=function(e){o.show(o.simple().textContent("sent").position("bottom"))};var l=function(){e.getHired().then(function(e){t.hiremelist=e,console.log("users",e)},function(e){console.log(e)})};l()}])}(),function(){angular.module("myApp").controller("NavController",["$mdSidenav","$location",function(e,t){var n=this;n.currentNavItem=t.path().slice(1)||"login",console.log("current nav item",n.currentNavItem),n.open=function(){e("left").toggle()}}]).controller("SidenavController",["$mdSidenav",function(e){var t=this;t.toggleNav=function(){return e("left").toggle()}}]).controller("LoginController",["AuthService","$scope","$interval","$window",function(e,t,n,o){var r=this;r.userlist={},r.scale=0,r.sd=1,r.rad=0;var l=!1,i=!1,s=function(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t>=0?t:0},a=document.querySelector("#blurredimg"),u=s(a),c=document.querySelector("#pica"),d=s(c),f=a.clientHeight,m=c.clientHeight;console.log("size",f),console.log("size2",m),console.log("location",u),console.log("location2",d),angular.element(o).on("scroll",function(){l=!0,i=!0,t.$apply(n(function(){l&&r.isVisible&&(l=!1,console.log("You scrolled"),console.log("scrollY",o.scrollY),console.log("location",u),console.log("innerHeight",o.innerHeight),r.sd=Math.round((u+f-(o.scrollY+o.innerHeight))/50),console.log("sd",r.sd)),i&&r.isVis&&(i=!1,r.scale=Math.round((d+m-(o.scrollY+o.innerHeight))/10),console.log("scale",r.scale),console.log("scrollY",o.scrollY))},500))}),r.addLogo=function(){var e=document.querySelector("#b");e.classList.add("logo-path"),alert(1)},r.lucy="jhljkhljkh",r.demo=function(){alert(1)},r.saveToMongoLab=function(){e.postToMongoLab(r.userlist.fuck).then(function(e){console.log(e),r.userlist.push(e)})["catch"](function(e){alert(e)})};var g=function(){e.getMongoLab().then(function(e){r.userlist=e,console.log(e)},function(e){console.log(e)})};g()}])}(),function(){angular.module("myApp").controller("ReaderboardController",["$scope",function(e){var t=this;t.results,t.clear=function(){document.getElementById("one").value="",document.getElementById("two").value="",t.one=null,t.two=null,t.results=[]},t.areaOne=function(e,n){var o=function(e){return e=e||"",e.replace(/\s+/g,"").split("").sort().map(function(e){return e.toLowerCase().match(/\S/g)}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){var n=e[0].indexOf(t);return n===-1?(e[0].push(t),e[1].push(1)):e[1][n]+=1,e},[[],[]]).reduce(function(e,t,n,o){var r=[];return e.forEach(function(e,t){r.push([e,o[1][t]])}),r})};t.letters=o(e),t.lettersTwo=o(n);var r=function(){for(var e=[],n=t.letters.length,o=t.lettersTwo.length,r=t.lettersTwo.map(function(e){return e[0]}),l=t.letters.map(function(e){return e[0]}),i=t.letters.map(function(e){return e[1]}),s=t.lettersTwo.map(function(e){return e[1]}),a=0;a<n;a++)if(r.indexOf(l[a])===-1)e.push([l[a],-Math.abs(i[a])]);else{r.findIndex(function(e,t,n){return e===l[a]})}for(var a=0;a<o;a++)if(l.indexOf(r[a])!==-1){var u=l.findIndex(function(e,t,n){return e===r[a]});e.push([r[a],s[a]-i[u]])}else e.push([r[a],s[a]]);return e};t.results=r().sort()}}])}(),function(){angular.module("myApp").controller("RegisterController",["$location","AuthService",function(e,t){var n=this;n.registerForm={},n.register=function(){t.register(n.registerForm.username,n.registerForm.password).then(function(){n.registerForm={},e.path("/users")})["catch"](function(e){alert(e)})}}])}(),function(){angular.module("myApp").controller("ShowUserController",["$scope","$stateParams","AuthService",function(e,t,n){e.selectedUser={};var o=function(){n.find(t.id).then(function(t){e.selectedUser=t,console.log(t,"!!!")},function(e){console.log(e)})};o();var r=function(){n.getUsers().then(function(t){e.userlist=t},function(e){console.log(e)})};e.updateUser=function(){console.log(e.selectedUser),n.update(e.selectedUser).then(function(){console.log("updated from controller"),r()},function(e){console.log("you fucked up"),console.log(e.message)})}}])}(),function(){angular.module("myApp").controller("UserController",["$scope","$stateParams","AuthService","$location","$window","$mdDialog",function(e,t,n,o,r,l){e.numbers=[];for(var i=1;i<=100;i++)e.numbers.push(i);e.displayPagination=function(t){0===t&&(e.begin=0),e.begin=t*e.displayAmount},e.lists=["username","id","password"],e.sortBy=function(t){e.propertyName=t},e.limitDisplayedTo=function(t){e.displayAmount=t,e.limit=Math.ceil(e.userlistLength/e.displayAmount)};var s=function(){n.getUsers().then(function(t){e.userlist=t,e.userlistLength=t.length,e.displayAmount=e.displayAmount||3,e.limit=Math.ceil(e.userlistLength/e.displayAmount),console.log(t)},function(e){console.log(e)})};s(),e.showConfirm=function(e){l.show({template:'<md-dialog ng-show="isLoading" id="plz_wait" style="background-color:transparent;box-shadow:none"><div layout="row" layout-sm="column" layout-align="center center" aria-label="wait"><md-progress-circular md-mode="indeterminate" ></md-progress-circular></div></md-dialog>',parent:angular.element(document.body),clickOutsideToClose:!1,fullscreen:!1}).then(function(){},function(e){alert(e)})},e.removeUser=function(t){console.log(t),e.isLoading=!0,n.remove(t).then(function(n){console.log(n),console.log(e.userlist),console.log(t);var o=e.userlist.findIndex(function(e){return e._id==t});e.userlist.splice(o,1),e.userlistLength=e.userlist.length,e.limit=Math.ceil(e.userlistLength/e.displayAmount),console.log("promise returned"),e.isLoading=!1})},e.test="testing link function",e.selectedUser={};var a=function(){n.find(t.id).then(function(t){e.selectedUser=t,console.log(t,"!!")},function(e){console.log(e)})};a(),e.updateUser=function(){console.log(e.selectedUser),n.update(e.selectedUser).then(function(t){var n=e.userlist.findIndex(function(t){return t._id==e.selectedUser._id});console.log(n),console.log(t),console.log("updated from controller"),r.location.reload(),o.path("/users")},function(e){console.log("you fucked up"),console.log(e.message)})},e.register=function(){e.isLoading=!0,n.register(e.userlist.username,e.userlist.password).then(function(t){console.log(t),e.userlist.push(t),e.userlistLength=e.userlist.length,e.limit=Math.ceil(e.userlistLength/e.displayAmount),angular.element(document.querySelectorAll("input")).val(""),e.isLoading=!1})["catch"](function(e){alert(e)})}}])}(),angular.module("myApp").component("exampleComponent",{bindings:{message:"=",brand:"<",flavor:"@",at:"@",lucy:"@"},templateUrl:"/partials/example-component",controller:function(){this.message="Michael component",this.ctrlFlavor="blackberry"}}),angular.module("myApp").controller("ExampleController",["$scope","$mdToast",function(e,t){e.date=new Date,e.ctrlName="foo",e.ctrlFlavor="cherry",e.isDisabled=!0,e.saySomething=function(){alert("say something!")},e.someMethod=function(e){alert(e)},e.showToast=function(){t.show({hideDelay:5e3,position:"top right",parent:angular.element(document.querySelector("#toastContainer")),template:'<md-toast><span class="md-toast-text" flex>Custom toast!</span><md-button class="md-highlight" ng-click="openMoreInfo($event)">More info</md-button><md-button ng-click="closeToast()">Close</md-button></md-toast>'})}}]),angular.module("myApp").directive("example",function(){return{restrict:"AE",templateUrl:"/partials/example-directive",link:function(e,t,n,o){}}}),function(){angular.module("myApp").directive("myDirective",function(){return{restrict:"E",transclude:!0,template:"<div>I am <span ng-transclude></span> directive {{test}}   {{userlist[0].username}}</div>",link:function(e,t,n){t.addClass("foo"),console.log(parseInt(n.bar)+6)}}})}();